As envisaged by the GSY concept of [Symbiotic Energy Markets](https://gridsingularity.medium.com/discussion-paper-grid-singularitys-implementation-of-symbiotic-energy-markets-bd3954af43c8){target=_blank}, the Grid Singularity Exchange decentralised implementation - GSY DEX is a robust, secure, and efficient technology platform for energy trading in a decentralised environment, leveraging blockchain and advanced distributed runtime functionalities. Grid Singularity’s vision is to enable a citizen and environment-centric, bottom-up market design, with spot, futures, settlement, and balancing markets intertwined through the use of time slots, allowing market-driven pricing and accurate accounting of delivered energy aligned with individual preferences. The objective is to empower individuals with choices on their energy use, reaching higher [Degrees of Freedom](degrees-of-freedom.md){target=_blank} based on a multi-attribute double auction with dynamic pricing.

In the GSY modular and scalable architecture design, the complexity of the matching process (based on price and other available preferences) is decoupled from the  validation of transactions and energy delivery verification (execution), with matching facilitated by third party matching algorithm providers (termed “mycos”). This design benefits system security and interoperability, while supporting multiple trading mechanisms and enabling the exchange itself to efficiently operate on a blockchain. New energy market participants are rewarded for providing valuable services such as data and algorithms, while the roles of established market participants (aggregators, grid operators, utilities, and regulators) converge towards the individual and the community.


<figure markdown>
  ![alt_text](img/blockchain-1.png){:text-align:center"}
  <figcaption><b>Figure 6.1</b>: GSY DEX Core Functions (Note: GSY Node Order Book is where bids and offers are stored, to be then matched based on the applicable trading mechanism for price verification and executed based on energy delivery verification.
</figcaption>
</figure>


The GSY DEX facilitates both intra- and inter-community trading, with the former meaning trading within a single community and the latter meaning trading between two or more communities, which also allows grid operators to procure energy and flexibility across communities. The default applicable trading mechanism is peer-to-peer (either asset-to-asset or household-to-household depending on available measurements), but in case of restrictive regulation a peer-to-pool (also termed peer-to-market or community trading) mechanism can also be applied meaning that there is a single price at the community level determined by coefficient-allocation or another pool trading algorithm. The GSY DEX is a critical technology for energy trading at scale (such as inter-community trading) and achieving the operational transition to a bottom-up energy market design.

The GSY DEX consists of six key [system components](blockchain-system-components-overview.md){target=_blank} (GSY Node, GSY DEX Off-Chain Storage, GSY DEX Matching Engine, GSY DEX Execution Engine, GSY DEX Analytics Engine, and GSY DEX API Gateway) developed by building upon the centralised version of the Grid Singularity Exchange ([GSYe](https://github.com/gridsingularity/gsy-e){target=_blank}), and additional support provided by the EU co-financed [FEDECOM](https://fedecom-project.eu/){target=_blank} project (GSY DEX v.1) and the [INTELLIGENT project](https://intelligent-project.eu/){target=_blank} (GSY DEX v.2). The GSY DEX leverages Substrate, [Polkadot](https://polkadot.network/){target=_blank}’s software development kit, allowing modular business logic to be built directly in the blockchain with a high and secure transaction throughput. Substrate has components called pallets, where each pallet can represent different functionality, such as smart contracts, storage, auctions, and more. For instance, the GSY Node is built as a pallet that provides immutable storage of executed transactions.

The programming is performed using [Rust](https://www.rust-lang.org/){target=_blank} protocols and libraries, such as [Tokio](https://tokio.rs/){target=_blank}, which is an event-driven, non-blocking I/O platform for writing asynchronous applications with a strong type system, facilitating straightforward interconnection with other components of the GSY DEX, ensuring secure and precise calculations, [Subxt](https://github.com/paritytech/subxt){target=_blank}, which is the official Rust library for interacting with [Substrate](https://www.substrate.io/){target=_blank} nodes, and [reqwest](https://github.com/seanmonstar/reqwest){target=_blank}, a high-performance asynchronous HTTP client, which facilitates the development of scalable and efficient API gateways and services.  The Energy Web Chain, tailored to the energy industry, is the blockchain of choice for the Grid Singularity Exchange decentralised implementation, anchored upon Polkadot’s scaling solution. Grid Singularity, an energy technology venture, and the Rocky Mountain Institute, a nonprofit clean technology organisation, jointly founded the Energy Web Foundation (EWF) in January 2017 as a non-profit entrepreneurial foundation building web3 applications for the energy transition and made a significant contribution to the development of the Energy Web Chain.

To support scalability and account for data privacy requirements, including the ability to delete data upon request and perform other operations in alignment with the [GDPR](https://eur-lex.europa.eu/eli/reg/2016/679/oj/eng){target=_blank}, multiple GSY DEX operations need to be executed off-chain. The off-chain storage database type of choice for processing these transactions is [MongoDB](https://www.mongodb.com/docs/manual/sharding/){target=_blank}, a NoSQL document-oriented database, capable of storing and fetching large data volumes and at the same time enabling horizontal scaling.  Another critical feature of the GSY DEX is the ease of deployment and the ability to separately scale each GSY DEX component if it runs out of computing resources, thus optimising their efficient use. To facilitate this, GSY DEX utilises [Docker](https://www.docker.com/){target=_blank} and [Docker Compose](https://docs.docker.com/compose/){target=_blank}, which enable the creation of isolated, containerised environments that can be easily managed and scaled. Docker ensures that each GSY DEX component runs consistently across different environments, while Docker Compose simplifies the orchestration of all GSY DEX components. Together, they provide a reliable and efficient solution for deploying and scaling the GSY DEX, ensuring optimal performance and resource utilisation. To reinforce security, all engines in the GSY DEX, including GSY DEX Matching Engine and GSY DEX Execution Engine, are operating with redundancy, by concurrently running multiple engine modules. Thus in case of a failure, a second instance of the engine will be immediately available to resume the GSY DEX operation without interruption.

The modular architecture of GSY DEX provides the necessary flexibility to customise the energy trading and adapt to varied regulatory requirements and preferences of different energy communities and grid operators. Moreover, it does not limit its use to just electricity trading, but also enables cross-sector integration opportunities (e.g. hydrogen or thermal systems). Furthermore, the scalability of the modular architecture allows the system to dynamically adapt to increasing trading volume or number of communities or grid operators that participate in GSY DEX. For reference, the first implementation of GSY DEX (v.1) will be able to facilitate at least 1000 transactions per second, and to serve over 100 energy communities. Support for an even larger number of assets and communities is envisioned in the future.

The GSY DEX, developed and published as part of the Grid Singularity Exchange [open-source GPL v.3 licence](https://gridsingularity.github.io/gsy-e/licensing/){target=_blank} code base, currently available for operation in the form of simulated transactions, is intended for developers interested in contributing and/or building complementary features. Blockchain code can also optionally be enabled on simulations running locally with the backend code base. Once all the key components are developed, the next step will be to launch services leveraging the GSY DEX, both as autonomous services and as an integrated application to operate a decentralised marketplace.


#### The GSY DEX Design Principles

The GSY DEX is designed around a set of key principles that guide its development and ensure that it meets the requirements of a modern, efficient, and secure energy trading platform. These design principles are aligned with the use of the Substrate framework for the development of the distributed ledger combined with the definition of a set of complementary ancillary services.

1. **Modularity**: The GSY DEX is built on a modular structure, enabling each component to be developed, tested, and maintained independently. This modularity simplifies the development process and allows for easy integration of new features, modules, or services in the future.
2. **Scalability**: The GSY DEX is designed to scale horizontally, accommodating the growing number of participants, transactions, and data. The use of blockchain technology, Substrate in particular, enables a highly scalable and efficient transaction processing and validation, while the ancillary services can also scale independently to handle increased throughput.
3. **Interoperability**: The GSY DEX promotes the use of open standards, protocols, and APIs to facilitate seamless integration with other systems, platforms, and technologies in the energy sector. This approach enables the GSY DEX to easily interact with other energy management systems, IoT devices, and related infrastructure and applications.
4. **Security**: Ensuring the security and integrity of the GSY DEX is a top priority. The Substrate framework provides robust security features, including strong cryptographic algorithms and a proven consensus mechanism. In addition, the ancillary services and communication protocols must be designed with security best practices in mind, including encryption, access control, and secure data storage.
5. **Decentralisation**: The GSY DEX leverages the power of blockchain technology to enable a fully decentralised system. This approach eliminates the need for a central authority, ensuring a transparent, secure, and efficient energy trading platform that is less susceptible to manipulation or control by any single entity.
6. **Flexibility**: The GSY DEX is designed to be adaptable and capable of incorporating new technologies, innovations, and evolving market requirements. This flexibility is achieved through the use of modular components, extensible APIs, and a development process that encourages innovation and experimentation.
7. **Usability**: The user experience is an essential aspect of the GSY DEX. The GSY DEX should be easy to use and accessible to a wide range of users, including energy producers, consumers, grid operators, and regulators. The user interfaces and APIs are designed with simplicity, efficiency, and intuitiveness in mind.


A decentralised energy exchange - GSY DEX enables automation and security for a more optimal energy market design, deriving a multitude of benefits. We rely on open source innovation and ecosystem collaboration to develop an inclusive, efficient, accountable and secure energy exchange.
